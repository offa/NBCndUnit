language: minimal

dist: focal

services:
  - docker

cache:
  directories:
    - $HOME/.m2/repository

jobs:
    include:
    - env: JDK=8
    - env: JDK=11
    - env: JDK=12
    - env: JDK=13
    - env: JDK=14


before_install:
  - docker pull maven:3-jdk-${JDK}

script:
  - docker run -v ${PWD}:/mnt -v ${HOME}:/root -it maven:3-jdk-${JDK} /bin/bash -c "cd /mnt; script/ci_build.sh"
